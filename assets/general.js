class General{constructor(){console.info(`%cBlockshop theme v10.1.0 by Troop Themes - Learn about our JS API here:
https://support.troopthemes.com/guide/api-for-custom-code?utm_source=console&utm_medium=console`,["background: green","color: white","font-weight: bold","padding: 2px"].join(";")),this.loadSwipeLibrary(),"loading"===document.readyState?document.on("DOMContentLoaded",()=>this.load()):this.load()}load(){this.configureLinks(),this.addPrefetchListeners(),this.observeMutations(),window.trigger("theme:loaded")}loadSwipeLibrary(){theme.utils.scriptLoader("swipe",theme.libraries.swipe,()=>{theme.utils.disable_prevent_scroll=!1,theme.utils.disable_swipe_listener=!1;var e=document.querySelectorAll("input, textarea");e.on("focus",()=>theme.utils.disable_prevent_scroll=!0),e.on("blur",()=>theme.utils.disable_prevent_scroll=!1),SwipeListener(document,{preventScroll:({detail:e})=>{var t;if(!theme.utils.disable_prevent_scroll)return t=Math.abs(e.x[0]-e.x[1]),2*Math.abs(e.y[0]-e.y[1])<t}}),document.addEventListener("swipe",e=>{var t,r,o,i;theme.utils.disable_swipe_listener||({left:t,right:r,top:o,bottom:i}=e.detail.directions,t&&window.trigger("theme:swipe:left"),r&&window.trigger("theme:swipe:right"),o&&window.trigger("theme:swipe:top"),i&&window.trigger("theme:swipe:bottom"))})})}configureLinks(){document.querySelectorAll('[data-item="hidden-text"] a').forEach(e=>e.setAttribute("tabindex","-1")),document.querySelectorAll(`a[href^="http"]:not([href*="${window.location.hostname}"])`).forEach(e=>e.setAttribute("target","_blank"))}addPrefetchListeners(){var e=document.querySelectorAll("a[href]");e.length&&(e.off("mouseover.General"),e.on("mouseover.General",({target:e})=>{var t=e.href?e:e.closest("a[href]");t&&theme.utils.linkLoader(t.href,"prefetch","high","document")}))}observeMutations(){new MutationObserver(()=>{this.addPrefetchListeners(),this.configureLinks()}).observe(document.body,{childList:!0,subtree:!0})}}new General;